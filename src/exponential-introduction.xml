<?xml version="1.0" encoding="UTF-8"?>
<!-- 
    to get images:
        ./script/mbx -c latex-image -f svg -d /Users/alexjordan/precalc/src/images/ /Users/alexjordan/precalc/src/precalc.xml 
    to do: nth tag
           em dash
           the \num issue
           example/solution in html
           exercise/solution in html
-->
        <section>
          <title>Introduction</title>
          <outcomes>
            <outcome> Explore increasing and decreasing functions, particularly in the context of concavity;</outcome>
            <outcome> Determine a function's concavity based on a table of values, a graph, or a description. </outcome>
          </outcomes>
          <p> In our mathematical adventures so far we have studied linear, quadratic, 
            and radical functions. The simplicity of these functions is useful when 
            introducing new concepts such as transformations, composition, and 
            inverse functions; but it is somewhat restrictive when we wish to 
            consider interesting real-world application problems.  </p>
          <p> For example, let's say that we were interested in modeling the 
            temperature of a hot cup of coffee since it was first poured. We cannot 
            write a formula for such a model yet, but perhaps <xref ref="exp-fig-motivatecool"/> depicts a reasonable
            approximation of the graph of it. Or perhaps
            we would like to model the growth in population of the world; again, 
            we can not write a formula for such a model at this stage, but you 
            might agree that <xref ref="exp-fig-motivatepop"/> is a likely candidate 
            for the graph of the model.  </p>
          <p> Clearly the functions depicted in <xref ref="exp-fig-motivate"/> belong to 
            a different class than those that we have considered so far. In fact, they 
            belong to the class known as <em>exponential</em> functions, the study of 
            which is a fascinating topic that encompasses many applications, and a lot 
            of interesting mathematical features. Prepare yourself for a colorful 
            and exciting
            journey that will take us through the landscape of some of the most useful 
            functions that we will ever encounter.  </p>
          <sidebyside xml:id="exp-fig-motivate">
              <figure width="40%" xml:id="exp-fig-motivatecool">
                <image>
                  <latex-image-code>
                  <![CDATA[\begin{tikzpicture}
                  \begin{axis}[
                  framed,
                  xmin=-10,xmax=50,
                  ymin=-20,ymax=100,
                  xtick={-30}, ytick={-30},
                  minor xtick={10,20,...,50},
                  minor ytick={20,40,...,100},
                  xlabel={$t$},
                  grid=minor,
                  ]
                  \addplot+[->]expression[domain=0:50,samples=50]{40*exp(-x/10)+50};
                  \end{axis}
                  \end{tikzpicture}]]>
                  </latex-image-code>
                </image>
                <caption></caption>
              </figure>
              <figure width="40%" xml:id="exp-fig-motivatepop">
                <image>
                  <latex-image-code>
                  <![CDATA[\begin{tikzpicture}
                  \begin{axis}[
                  framed,
                  xmin=-10,xmax=50,
                  ymin=-20,ymax=100,
                  xtick={-30}, ytick={-30},
                  minor xtick={10,20,...,50},
                  minor ytick={20,40,...,100},
                  xlabel={$t$},
                  grid=minor,
                  ]
                  \addplot+[->]expression[domain=0:45,samples=50]{(1.1)^x+20};
                  \end{axis}
                  \end{tikzpicture}]]>
                  </latex-image-code>
                </image>
                <caption></caption>
              </figure>
            <caption></caption>
          </sidebyside>
        <example>
            <author>Barkin/Bernards</author>
            <date>April 2011</date>
            <p>Congratulations, you've been offered a job!  Human Resources told you 
              that you would start out making <m>\SI{2}{\centunit}</m> on the first day, and every day you work thereafter your pay will double.  
              Would you take this job?</p>
            <sidebyside>
                <table xml:id="exp-tab-salary">
                  <caption/>
                  <tabular>
                    <col halign="."/>
                    <col halign="."/>
                  <thead>
                    <row><cell><m>d</m> (days worked)</cell><cell><m>p</m> (cents)</cell></row>
                  </thead>
                    <row><cell>1</cell><cell>2</cell></row> 
                    <row><cell>2</cell><cell>4</cell></row>
                    <row><cell>3</cell><cell>8</cell></row>
                    <row><cell>4</cell><cell>16</cell></row>
                    <row><cell>5</cell><cell>32</cell></row>
                    <row><cell>10</cell><cell>1024</cell></row>
                    <row><cell>30</cell><cell>1073741824</cell></row>
                    <tfoot/>
                  </tabular>
                </table>
                <table xml:id="exp-tab-salaryalt">
                  <caption />
                  <tabular>
                    <col halign="."/>
                    <col halign="left"/>
                  <thead>
                    <row><cell><m>d</m> (days worked)</cell> <cell><m>p</m> (cents)</cell></row> 
                  </thead>
                    <row><cell>1</cell> <cell><m>2</m>                  </cell></row>
                    <row><cell>2</cell> <cell><m>2^2</m>                </cell></row>
                    <row><cell>3</cell> <cell><m>2^3</m>                </cell></row>
                    <row><cell>4</cell> <cell><m>2^4</m>                </cell></row>
                    <row><cell>5</cell> <cell><m>2^5</m>                </cell></row>
                    <row><cell>10</cell> <cell><m>2^{10}</m>             </cell></row>
                    <row><cell>30</cell> <cell><m>2^{30}</m>             </cell></row>
                    <tfoot/>
                  </tabular>
                </table>
            </sidebyside>
            <p><xref ref="exp-tab-salary" beginsentence="true"/> shows how much money you would make per day, 
              in cents, for the first 5 days, and how much you would make on the 10th and 30th days. 
              The amount you make on day 30 is 1073741824 cents, which is
              <me> 
                \$10\textrm{,}737\textrm{,}418.24   
              </me>
              That's over 10 million dollars in a single day! How did this happen? Can we develop 
              a formula to help us understand the mathematics behind this?  </p>
            <p>It seems that the dollar amount is multiplied by 2 each day. An alternative way 
              of writing our daily income is shown in <xref ref="exp-tab-salaryalt"/>. Can we write 
              a formula that calculates the pay, <m>p</m>, in cents, as a function of the number of days
              worked, <m>d</m>? 
              According to <xref ref="exp-tab-salaryalt"/>, it appears that the day of the month is in the exponent, 
              so let's write
              <me>
                p = 2^{d}
              </me>
              where <m>d</m> is a positive integer. This is our first example of an exponential function -- exploring 
              these types of functions is our primary goal in this chapter.</p>
          </example>
          <definition>
            <title>Exponential functions</title>
            <statement> <p>An exponential function is a function <m>f</m> that can be described with the formula 
                <me>
                  f(x)=a\,b^x
                </me>
                where <m>a</m> is a non-zero real number (<m>a\in\mathbb{R}, a\ne 0</m>) and <m>b</m> is a positive 
                number other than 1 (<m>b>0</m>, <m>b\neq 1</m>). Notice that the variable is in the exponent 
                and the base is the fixed constant <m>b</m>.</p>
              <p>Note that in an exponential term the base is fixed and the variable is in the 
                exponent (e.g. <m>5\cdot 4^x</m>), whereas in a polynomial term the exponent is fixed the base is the variable (e.g <m>6x^3</m>).</p>
            </statement>
          </definition>
          <example xml:id="exp-prob-queenschessboard">
            <author>Hughes</author>
            <date>Feb 2011</date>
            <title>Rice on a chessboard</title>
            <p>Many years ago there lived a Queen who loved to play games; so much so, that 
              she had a jester dedicated to devising interesting games for her. The Queen 
              particularly enjoyed mathematical games.</p>
            <p>One day the jester brought her a chessboard (see <xref ref="exp-fig-grainsofrice"/>) and a bucket filled with rice.</p> 
            <table xml:id="exp-tab-grainsofrice">
              <caption/>
              <tabular>
                <col halign="."/>
                <col halign="."/>
              <thead>
                <row><cell>square on board</cell><cell>grains of rice</cell></row>
                <row><cell><m>x</m></cell><cell><m>g(x)</m></cell></row>
              </thead>
                <row><cell>1</cell><cell>3</cell></row>
                <row><cell>2</cell><cell>9</cell></row>
                <row><cell>3</cell><cell>27</cell></row>
                <row><cell>4</cell><cell>81</cell></row>
                <row><cell><vellipsis/></cell><cell><vellipsis/></cell></row>
                <row><cell><vellipsis/></cell><cell><vellipsis/></cell></row>
                <row><cell>20</cell><cell>3486784401</cell></row>
                <row><cell><vellipsis/></cell><cell><vellipsis/></cell></row>
                <row><cell><vellipsis/></cell><cell><vellipsis/></cell></row>
                <row><cell><m>x</m></cell><cell><m>3^x</m></cell></row>
                <tfoot/>
              </tabular>
            </table>
            <figure style="margin" xml:id="exp-fig-grainsofrice">
              <image>
                  <latex-image-code>
                <![CDATA[\begin{tikzpicture}[scale=.25]
                \foreach \x in {0,...,7} \foreach \y in {0,...,7}
                {
                \pgfmathparse{mod(\x+\y,2) ? "black" : "white"}
                \edef\colour{\pgfmathresult}
                \path[fill=\colour] (\x,\y) rectangle ++ (1,1);
                }
                \draw (0,0)--(0,8)--(8,8)--(8,0)--(0,0);
                \end{tikzpicture}]]>
              </latex-image-code>
              </image>
              <caption/>
            </figure>
            <p>The jester asked the Queen to follow these instructions
              <ul>
                <li>Place 3 grains of rice on the square in the lower left hand corner of the board.</li>
                <li>Place 9 grains of rice on the square immediately to the right of the square you were just working with.</li>
                <li>Place 27 grains of rice on the square immediately to the right of the square you were just working with.</li>
              </ul>The Queen starts to notice a pattern, and records her findings in <xref ref="exp-tab-grainsofrice"/>. She also notes
              that as she progresses from square to square, the number of grains appears to be <em>tripling</em> each time.</p>
            <p>The Queen, being mathematically inclined, decides to try to model 
              the game using a formula. She decides to  let <m>x</m> be the number 
              corresponding to the square on the chessboard, and let <m>g(x)</m> represent 
              the number of grains of rice on that square, and  assumes that she 
              works each row from left to right as she moves up the chessboard.</p>
            <figure style="margin" xml:id="exp-fig-queensgraph">
              <image>
                <latex-image-code>
                <![CDATA[\begin{tikzpicture}
                \begin{axis}[
                width=.75\textwidth,
                xmin=-5, xmax=5,
                ymin=-1, ymax=10,
                ]
                \addplot expression[domain=-4:2.0959]{3^x};
                \end{axis}
                \end{tikzpicture}]]>
                </latex-image-code>
              </image>
              <caption><m>g</m></caption>
            </figure>
            <p>The Queen notices that each of the numbers she writes in <xref ref="exp-tab-grainsofrice"/>
              can be written as a power of <m>3</m>, and concludes that the formula for the number
              of grains on square <m>x</m> of the chessboard is
              <me>
                g(x)=3^x
              </me>
              The Queen decides to test her formula by calculating the number of grains 
              on the \nth{17} square. She finds that
              <me>
                g(17)=\num{129 140 163}
              </me>
              and says that there are (or would be, if they could fit) \num{129 140 163} grains of rice on the \nth{17} square -- wow!</p>
            <p> Of course, the Queen knows that this formula only works when <m>x</m> takes the 
              integer values <m>\{1,2,\ldots,64\}</m>, but wonders what would happen if 
              she graphed <m>g</m> on her calculator (which she always has with her for just 
              such a situation). The Queen graphs <m>g</m> on her calculator assuming 
              that <m>g</m> can take values outside of the contextual domain, and 
              obtains the graph in <xref ref="exp-fig-queensgraph"/>.</p>
            <p>The Queen concludes that <m>g</m> is increasing at a faster and faster rate, and 
              cannot imagine ever being able to fit the appropriate amount of rice on 
              each square.</p>
          </example>
          <exercises style="try-it-yourself">
            <exercise>
              <statement>Repeat <xref ref="exp-prob-queenschessboard"/>, but instead of <em>tripling</em> the 
                number of grains of rice on each square, try <em>quadrupling</em> them.</statement>
              <solution><p>The equivalent of the function <m>g</m> is <m>h</m> and has formula <m>h(x)=4^x</m>.</p></solution>
            </exercise>
          </exercises>
          <p>We have so far seen two exponential functions, <m>p</m> and <m>g</m>, both of which increase 
            at a faster and faster rate. You may wonder if all exponential functions behave in this way --
            the next example demonstrates that they do not.</p>
          <example>
            <author>Hughes</author>
            <date>Feb 2011</date>
            <title>Folding paper</title>
            <p>Have you ever tried to fold a piece of paper in half more than 7 times? No matter the size 
              of the paper, it becomes quite difficult -- the MythBusters tried quite an elaborate experiment 
              along these lines. <fn><url href="http://www.youtube.com/watch?v=kRAEBbotuIE"/></fn> </p>
            <p>We are going to experiment with paper folding and study the mathematics behind the results.
              The area of a <q>letter</q> sheet of paper is <m>\SI{8.5 x 11}{\inch}</m>, or <m>\SI{93.5}{\square\inch}</m>. We will
              use two decimal places in what follows.</p>
            <p>If we fold a sheet of letter paper in half, the visible surface area is
              <md>
                <mrow>\frac{\SI{93.52}{\square\inch}}{2} &amp; =\left(\frac{1}{2}\right)\SI{93.5}{\square\inch}</mrow>
                <mrow>&amp; =\SI{46.75}{\square\inch}                       </mrow>
              </md>
              Note that we say, <q>visible</q>, because the actual surface area of the paper has not changed.</p>
            <p>If we fold the sheet in half again, the visible surface area is 
              <md>
                <mrow>\frac{\SI{46.75}{\square\inch}}{2} &amp; = \frac{\SI{93.52}{\square\inch}}{4}               </mrow>
                <mrow>&amp; = \left(\frac{1}{2}\right)^2\SI{93.5}{\square\inch} </mrow>
                <mrow>&amp; \approx \SI{23.38}{\square\inch}                    </mrow>
              </md>
              If we fold the sheet in half a third time, the visible surface area is
              <md>
                <mrow>\frac{\SI{93.5}{\square\inch}}{8} &amp; = \left(  \frac{1}{2}\right)^3\SI{93.5}{\square\inch} </mrow>
                <mrow>&amp; \approx \SI{11.69}{\square\inch}                      </mrow>
            </md></p>
            <p>Let's try and generalize our results by letting <m>x</m> be the number of 
              paper folds; <m>x</m> will start at 0, and increase in integer values. 
              <xref ref="exp-tab-foldingpaper" beginsentence="true"/> has two columns, one for the number of folds (up to 7), and one for the visible surface area 
              of the (folded) paper. </p>
            <sidebyside>
                <table xml:id="exp-tab-foldingpaper">
                  <caption/>
                  <tabular>
                    <col halign="."/>
                    <col halign="."/>
                  <thead>
                    <row><cell>number of folds</cell><cell>visible area</cell></row>
                    <row><cell><m>x</m></cell><cell><m>(\si{\inch\squared})</m></cell></row>
                  </thead>
                    <row><cell>0</cell><cell>93.50</cell></row> 
                    <row><cell>1</cell><cell>46.75</cell></row>
                    <row><cell>2</cell><cell>23.38</cell></row>
                    <row><cell>3</cell><cell>11.69</cell></row>
                    <row><cell>4</cell><cell>5.84</cell></row>
                    <row><cell>5</cell><cell>2.92</cell></row>
                    <row><cell>6</cell><cell>1.46</cell></row>
                    <row><cell>7</cell><cell>0.73</cell></row>
                    <tfoot/>
                  </tabular>
                </table>
                <figure xml:id="exp-fig-foldingpaper">
                  <image>
                  <latex-image-code>
                    <![CDATA[\begin{tikzpicture}
                    \begin{axis}[
                    width=.75\textwidth,
                    xmin=-5, xmax=5,
                    ymin=-50, ymax=400,
                    ytick={50,100,...,350},
                    ]
                    \addplot expression[domain=-2:4]{93.5*(1/2)^x};
                    \end{axis}
                    \end{tikzpicture}]]>
                  </latex-image-code>
                  </image>
                  <caption><m>y=A(x)</m></caption>
                </figure>
            </sidebyside>
            <p>If we let <m>A(x)</m> represent the visible surface area of the paper after <m>x</m> folds, then 
              a formula for <m>A</m> is
              <me>
                A(x) = 93.5\left(\frac{1}{2}\right)^x
              </me>
              where <m>x=0,1,2,\ldots</m>. If we allow <m>A</m> to take values outside of its contextual domain, then 
              we can graph <m>y=A(x)</m> on a graphing calculator, and obtain <xref ref="exp-fig-foldingpaper"/>. Notice 
              in particular that <m>A</m> decreases at a slower and slower rate.</p>
          </example>
          <p>The graphs of exponential functions have certain features that tell us a lot about the quantities 
            they are modeling.  Graphical features like increasing/decreasing and the position of any 
            asymptotes translate to important information about population sizes, bank accounts, and more.</p>
          <example xml:id="exp-ex-asymptote">
            <author>Hughes</author>
            <date>April 2011</date>
            <p>Consider the function <m>f</m> in <xref ref="exp-fig-expmotivation"/>. 
              There are a number of features that we can note:
              <ul>
                <li><m>f</m> is increasing;</li>
                <li><m>f</m> is concave up; in particular, <m>f</m> is increasing at a faster and faster rate;</li>
                <li>the line <m>y=3</m> is a horizontal asymptote of <m>f</m> as <m>x\to -\infty</m>;</li>
                <li><m>f(x)\to\infty</m> as <m>x\to\infty</m>;</li>
                <li>the range of <m>f</m> is <m>(3,\infty)</m>.</li>
            </ul></p>
            <p>Note that <m>f</m> never touches its horizontal asymptote (see <xref ref="exp-fig-closeup"/>).</p>
            <sidebyside>
                <figure xml:id="exp-fig-expmotivation">
                  <image>
                  <latex-image-code>
                    <![CDATA[\begin{tikzpicture}
                    \begin{axis}[
                    framed,
                    xmin=-6,xmax=6,
                    ymin=-1,ymax=10,
                    xtick={-5,-4,...,5},
                    minor ytick={1,3,...,9},
                    ytick={2,4,...,8},
                    grid=both,
                    ]
                    \addplot expression[domain=-6:2.807]{2^x+3};
                    \addplot[asymptote]coordinates{(-6,3)(6,3)};
                    \end{axis}
                    \end{tikzpicture}]]>
                  </latex-image-code>
                  </image>
                  <caption><m>f(x)=2^x+3</m></caption>
                </figure>
                <figure xml:id="exp-fig-closeup" valign="middle">
                <image>
                  <latex-image-code>
                    \centering
                    <![CDATA[\begin{tikzpicture}
                    \begin{axis}[
                    width=.5\textwidth,
                    axis x line=box,
                    axis y line=box,
                    axis line style={-}, 
                    xmin=-6,xmax=-3,
                    ymin=2,ymax=4,
                    xtick={-6,-5,...,-3},
                    ytick={2,2.5,...,4},
                    grid=both,
                    ]
                    \addplot expression[domain=-6:-3]{2^x+3};
                    \addplot[asymptote]coordinates{(-6,3)(6,3)};
                    \end{axis}
                    \end{tikzpicture}]]>
                  </latex-image-code>
                </image>
                  <caption>Close up!</caption>
                </figure>
            </sidebyside>
          </example>
          <exercises style="try-it-yourself">
            <exercisegroup cols="2">
              <author>Hughes</author>
              <date>February 2012</date>
              <introduction>Repeat <xref ref="exp-ex-asymptote"/> for each of the functions defined 
                by the following formulas.</introduction>
                <exercise core="true"><statement><m>g(x)=5-4^x</m></statement>
                  <solution><p>The graph of <m>g</m> is shown below. Note that
                      <ul>
                        <li> <m>g</m> is decreasing </li>
                        <li> <m>g</m> is concave down; in particular <m>g</m> is decreasing at a faster and faster rate;</li>
                        <li> the line <m>y=5</m> is a horizontal asymptote of <m>g</m> as <m>x\rightarrow-\infty</m>;</li>
                        <li> <m>g(x)\rightarrow-\infty</m> as <m>x\rightarrow\infty</m>;</li>
                        <li> the range of <m>g</m> is <m>(-\infty,5)</m>.</li>
                    </ul></p>
                    <figure>
                      <image>
                      <latex-image-code>
                        <![CDATA[\begin{tikzpicture}
                        \begin{axis}[
                        framed,
                        xmin=-5,xmax=5,
                        ymin=-10,ymax=10,
                        xtick={-4,-3,...,4},
                        ytick={-8,-6,...,8},
                        grid=both,
                        ]
                        \addplot expression[domain=-5:1.95]{5-4^x};
                        \addplot[asymptote]coordinates{(-5,5)(5,5)};
                        \end{axis}
                        \end{tikzpicture}]]>     
                      </latex-image-code>
                      </image>
                    </figure>
                </solution>
              </exercise>
              <exercise>
                <statement><m>h(x)=\left( \frac{2}{3} \right)^x-4</m></statement>
                  <solution><p>The graph of <m>h</m> is shown below. Note that
                      <ul>
                        <li><m>h</m> is decreasing;</li>
                        <li><m>h</m> is concave up; in particular <m>h</m> is decreasing at a slower and slower rate;</li>
                        <li>the line <m>y=-4</m> is a horizontal asymptote of <m>h</m> as <m>x\rightarrow\infty</m>;</li>
                        <li><m>h(x)\rightarrow\infty</m> as <m>x\rightarrow-\infty</m>;</li>
                        <li>the range of <m>h</m> is <m>(-4,\infty)</m>.</li>
                    </ul></p>
                    <figure>
                      <image>
                        <latex-image-code>
                        <![CDATA[\begin{tikzpicture}
                        \begin{axis}[
                        framed,
                        xmin=-5,xmax=5,
                        ymin=-10,ymax=10,
                        xtick={-4,-3,...,4},
                        ytick={-8,-6,...,8},
                        grid=both,
                        ]
                        \addplot expression[domain=-5:5]{(2/3)^x-4};
                        \addplot[asymptote]coordinates{(-5,-4)(5,-4)};
                        \end{axis}
                        \end{tikzpicture}]]>     
                        </latex-image-code>
                      </image>
                    </figure>
                  </solution>
                </exercise>
            </exercisegroup>
        </exercises>
          <p>Exponential modeling will require familiarity with percentages. The next example aims to 
            help you (re)acquaint yourself with them. </p>
          <example>
            <statement>Wild honeybee colonies tend to have around \SI{15}{\percent} drones (males).   If a colony has 4,280 bees, about how many of them are drones?</statement> 
            <solution><p>The percentage \SI{15}{\percent} should be converted to a decimal in order to do arithmetic with it: 0.15. </p> 
              <md>
                <mrow>\textrm{drone count} &amp; = \SI{15}{\percent}\textrm{ of total bee count} </mrow>
                <mrow>&amp; =0.15\cdot4280                                  </mrow>
                <mrow>&amp; = 642                                           </mrow>
              </md>
              <p>So there are about 642 drones in the colony.  </p>
            </solution>
          </example>
          <definition xml:id="exp-def-growthfactorrate">
            <title>Growth factor and growth rate</title>
            <statement>An exponential function <m>f</m> can be written in (at least) two ways.
              <md>
                <mrow>f(t) &amp; =a\,b^t &amp; f(t) &amp; =a(1+r)^t </mrow>
              </md>
              <ul>
                <li>The constant <m>b</m> is called the <em>growth factor</em>.  When <m>t</m> increases by <m>1</m>, the value of <m>f(t)</m> changes by a factor of <m>b</m>; that is, every unit of time the value of <m>f(t)</m> is multiplied by <m>b</m>.</li>
                <li>The constant <m>r</m> is called the <em>growth rate</em>.  We usually write <m>r</m> as a decimal and interpret it as a percent.
                  When <m>t</m> increases by <m>1</m>, the amount of change in <m>f(t)</m> is <m>r</m>. 
                  For example, if <m>r=0.10</m>, when <m>t</m> increases by <m>1</m> the value of <m>f(t)</m>
                  increases by \SI{10}{\percent}. Whereas if <m>r=-0.05</m>, when <m>t</m> increases by <m>1</m> 
                  the value of <m>f(t)</m> decreases by \SI{5}{\percent}.  </li>
            </ul> </statement>
          </definition>
</section>
