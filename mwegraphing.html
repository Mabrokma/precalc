<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0 plus SVG 1.1//EN"
    "http://www.w3.org/2002/04/xhtml-math-svg/xhtml-math-svg.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title>MWE graphing</title>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
			<script src='./js/objectsArraysString.js' type='text/javascript'></script>
			<script src='./js/graphing.js' type='text/javascript'></script>
            <!-- needed for math.eval to parse strings such as 3*x^2-4 -->
			<script src='http://cdnjs.cloudflare.com/ajax/libs/mathjs/0.25.0/math.js' type='text/javascript'></script>

<script type="text/javascript">
	function readData()
	{
			// set up the canvas as part of the question node
			cnv = document.getElementById("cmh");

			// draw the graph
            cnv.plotOptions = {// axis options
                               xmin:-10, xmax:10, xres:2,  // optional (default: xmin=-10, xmax=10, xres=1)
                               ymin:-10, ymax : 10, yres:2,// optional (default: ymin=-10, ymax=10, yres=1) 
                               // axis house keeping (should be specified automatically)
                               numberOfLines:1,            // optional (default: 1)
                               lineCount:1, 
                               // plot options
                               a:-8, b:8,                  // optional (default: a=0.0001, b=10) 
                               lineColours:["Red"], //optional (default: Red) see: http://www.w3schools.com/tags/ref_colornames.asp
                               lineStyles:["solid"],  // optional (default: solid, options: solid, dashed, dotted)
                               lineWidths:["ultra thick"],  // optional (default: normal, options: ultra thin, very thin, thin, normal, thick, very thick, ultra thick)
            };
			cnv.graphingFunction = string2Object(testGraph);
			cnv.getinfo = drawStuff;
			cnv.getinfo("cmh");
    }					

    function testGraph(X)
    {
        var scope = {x:X};
                    //f = Math.pow(X-1,2)-4;
                    f = math.eval('(x-1)^2-4',scope);
                    //f = math.eval('sin(2*x deg)',scope);
                    //f = math.eval('sin(2*x)',scope);
                    //f = math.eval('1/(x*(x+2))',scope);
    				return f;
    }

</script>

</head>

<body onload="readData()">

<canvas height=400 width=420 id="cmh">
</canvas>
  </body>
</html>
